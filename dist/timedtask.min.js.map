{"version":3,"sources":["webpack://timedtask/webpack/universalModuleDefinition","webpack://timedtask/./src/index.js","webpack://timedtask/webpack/bootstrap","webpack://timedtask/webpack/startup"],"names":["root","factory","exports","module","define","amd","a","i","self","timedTask","key","time","method","name","_cookie","document","cookie","length","_end","_start","indexOf","decodeURI","substring","getCookie","value","exp","Date","setTime","getTime","encodeURI","toUTCString","setCookie","getHours","getMinutes","getSeconds","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__"],"mappings":"CAAA,SAA2CA,EAAMC,GAChD,GAAsB,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,SACb,GAAqB,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,OACP,CACJ,IAAIK,EAAIL,IACR,IAAI,IAAIM,KAAKD,GAAuB,iBAAZJ,QAAuBA,QAAUF,GAAMO,GAAKD,EAAEC,IAPxE,CASGC,MAAM,WACT,O,OC+BAL,EAAOD,QAAU,CAChBO,UA1CD,SAAmBC,EAAIC,EAAMC,GACxBF,IACHA,EAAM,YAsBR,SAAmBG,GAClB,IAAIC,EAAUC,SAASC,OACvB,GAAGF,EAAQG,OAAO,EAAE,CACnB,IACIC,EADAC,EAASL,EAAQM,QAAQP,EAAO,KAEpC,IAAY,GAATM,EAMF,OALAA,EAASA,EAAON,EAAKI,OAAO,GAElB,IADVC,EAAOJ,EAAQM,QAAQ,IAAKD,MAE3BD,EAAOJ,EAAQG,QAETI,UAAUP,EAAQQ,UAAUH,EAAQD,IAG7C,MAAO,GAlCEK,CAAUb,KAElBE,IAQF,SAAmBC,EAAKW,EAAMb,GAC7B,IAAIc,EAAM,IAAIC,KACTf,IACJA,EAAO,QAERc,EAAIE,QAAQF,EAAIG,UAAe,IAALjB,GAC1BI,SAASC,OAASH,EAAO,IAAMgB,UAAUL,GAAO,aAAaC,EAAIK,cAVhEC,CAAUrB,EAAI,EADVC,EAAOA,GAAQ,OAAkC,IAAtB,IAAIe,MAAOM,WAAc,GAA2B,IAAxB,IAAIN,MAAOO,cAAgB,IAAIP,MAAOQ,oBCR/FC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAapC,QAGrB,IAAIC,EAASgC,EAAyBE,GAAY,CAGjDnC,QAAS,IAOV,OAHAsC,EAAoBH,GAAUlC,EAAQA,EAAOD,QAASkC,GAG/CjC,EAAOD,QClBWkC,CAAoB,G,MDF1CD","file":"timedtask.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn ","function timedTask(key,time, method){ // 设置 key-cookie 名字； time - cookie多少秒后失效，不传默认第二天凌晨；method 执行的函数\r\n\tif(!key){\r\n\t\tkey = 'taskToDo'\r\n\t}\r\n\tvar ck = getCookie(key)\r\n\tif(!ck){ //无cookie，执行方法\r\n\t\tmethod()\r\n\t\t\r\n\t\t//距离第二天凌晨还有多少秒\r\n\t\tvar time = time || 24*60*60 - (new Date().getHours()*60*60+new Date().getMinutes()*60+new Date().getSeconds())\r\n\t\tsetCookie(key,1,time)\r\n\t}\r\n}\r\n\r\nfunction setCookie(name,value,time){ //设置cookie\t\r\n\tvar exp = new Date();\r\n\tif (!time) {\r\n\t\ttime = 7 * 24 * 60 * 60;//默认7天\r\n\t}\r\n\texp.setTime(exp.getTime()+time*1000)\r\n\tdocument.cookie = name + '=' + encodeURI(value)+'; expires='+exp.toUTCString()\r\n}\r\n\r\n\r\nfunction getCookie(name){ //查询cookie\r\n\tvar _cookie = document.cookie\r\n\tif(_cookie.length>0){\r\n\t\tvar _start = _cookie.indexOf(name + \"=\");//获取字符串的起点\r\n\t\tvar _end;\r\n\t\tif(_start!=-1){ //存在\r\n\t\t\t_start = _start+name.length+1 //重设起点 为等号的位置\r\n\t\t\t_end = _cookie.indexOf(';', _start) //得出结尾位置 name = value;\r\n\t\t\tif(_end==-1){ //如果等于-1，说明是最后，因为cookie串最后没有分号;\r\n\t\t\t\t_end = _cookie.length;\r\n\t\t\t}\r\n\t\t\treturn decodeURI(_cookie.substring(_start, _end))\r\n\t\t}\r\n\t}\r\n\treturn ''\r\n}\r\n\r\nmodule.exports = {\r\n\ttimedTask\r\n}; ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(0);\n"],"sourceRoot":""}